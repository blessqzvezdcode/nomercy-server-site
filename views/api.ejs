<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <title>API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - NoMercy</title>
    <link rel="stylesheet" href="/css/base.css">
</head>
<body>
    <nav>
        <a href="/" class="brand">NoMercy</a>
        <div class="nav-buttons">
            <% if (user) { %>
                <div class="dropdown">
                    <button class="dropdown-toggle">
                        <span>üë§ <%= user.name %> (üí∞ <%= balance %>)</span>
                    </button>
                    <div class="dropdown-menu">
                        <a href="/profile/<%= user.id %>" class="dropdown-item">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a>
                        <a href="/market" class="dropdown-item">üõí –ú–∞—Ä–∫–µ—Ç</a>
                        <a href="/cards" class="dropdown-item">üÉè –ö–∞—Ä—Ç—ã</a>
                        <a href="/collection" class="dropdown-item">üì¶ –ö–æ–ª–ª–µ–∫—Ü–∏—è</a>
                        <a href="/quests" class="dropdown-item">‚öîÔ∏è –ö–≤–µ—Å—Ç—ã</a>
                        <a href="/games" class="dropdown-item">üéÆ –ò–≥—Ä—ã</a>
                        <a href="/news" class="dropdown-item">üì∞ –ù–æ–≤–æ—Å—Ç–∏</a>
                        <a href="/faq" class="dropdown-item">‚ùì FAQ</a>
                        <a href="/achievements" class="dropdown-item">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</a>
                        <a href="/support" class="dropdown-item">üéß –ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
                        <div class="dropdown-divider"></div>
                        <% if (user.role === 'admin') { %>
                            <a href="/admin" class="dropdown-item">‚öôÔ∏è –ê–¥–º–∏–Ω–∫–∞</a>
                            <div class="dropdown-divider"></div>
                        <% } %>
                        <button class="dropdown-item theme-toggle" id="theme-toggle">üåô –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞</button>
                        <div class="dropdown-divider"></div>
                        <a href="/logout" class="dropdown-item">üö™ –í—ã–π—Ç–∏</a>
                    </div>
                </div>
            <% } else { %>
                <a href="/auth/discord" class="btn">–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Discord</a>
            <% } %>
        </div>
    </nav>

    <div class="container">
        <div class="page-header">
            <h1>üîå API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h1>
            <p>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API NoMercy Marketplace</p>
        </div>

        <div class="api-content">
            <div class="api-section">
                <h2>üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã</h2>
                <p>NoMercy API –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –≤ –≤–∞—à–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</p>
                <div class="code-block">
                    <strong>Base URL:</strong> <code>https://nomercy.example.com/api</code>
                </div>
            </div>

            <div class="api-section">
                <h2>üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</h2>
                <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:</p>
                <div class="code-block">
                    <code>Authorization: Bearer YOUR_TOKEN</code>
                </div>
                <p>–ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –º–æ–∂–Ω–æ –≤ <a href="/profile">–Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è</a>.</p>
            </div>

            <div class="api-section">
                <h2>üìä –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</h2>
                
                <div class="endpoint">
                    <h3><span class="method get">GET</span> /api/market/listings</h3>
                    <p>–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –ª–æ—Ç–æ–≤</p>
                    <div class="code-block">
                        <strong>–û—Ç–≤–µ—Ç:</strong>
                        <pre>{
  "success": true,
  "listings": [
    {
      "id": "123",
      "title": "–†–µ–¥–∫–∞—è –∫–∞—Ä—Ç–∞",
      "price": 1000,
      "seller": "user123",
      "createdAt": "2025-01-01T00:00:00Z"
    }
  ]
}</pre>
                    </div>
                </div>

                <div class="endpoint">
                    <h3><span class="method post">POST</span> /api/market/list</h3>
                    <p>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ª–æ—Ç</p>
                    <div class="code-block">
                        <strong>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:</strong>
                        <pre>{
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –ª–æ—Ç–∞",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
  "price": 1000,
  "itemId": "item123"
}</pre>
                    </div>
                </div>
            </div>

            <div class="api-section">
                <h2>üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
                
                <div class="endpoint">
                    <h3><span class="method get">GET</span> /api/user/profile</h3>
                    <p>–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</p>
                    <div class="code-block">
                        <strong>–û—Ç–≤–µ—Ç:</strong>
                        <pre>{
  "success": true,
  "user": {
    "id": "123",
    "name": "Username",
    "balance": 5000,
    "level": 10
  }
}</pre>
                    </div>
                </div>

                <div class="endpoint">
                    <h3><span class="method get">GET</span> /api/user/inventory</h3>
                    <p>–ü–æ–ª—É—á–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>
                    <div class="code-block">
                        <strong>–û—Ç–≤–µ—Ç:</strong>
                        <pre>{
  "success": true,
  "inventory": [
    {
      "id": "item123",
      "name": "–ö–∞—Ä—Ç–∞ –≥–µ—Ä–æ—è",
      "rarity": "legendary",
      "quantity": 1
    }
  ]
}</pre>
                    </div>
                </div>
            </div>

            <div class="api-section">
                <h2>üÉè –ö–∞—Ä—Ç—ã –∏ –ø—Ä–µ–¥–º–µ—Ç—ã</h2>
                
                <div class="endpoint">
                    <h3><span class="method get">GET</span> /api/cards</h3>
                    <p>–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞—Ä—Ç</p>
                </div>

                <div class="endpoint">
                    <h3><span class="method get">GET</span> /api/cards/:id</h3>
                    <p>–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞—Ä—Ç–µ</p>
                </div>
            </div>

            <div class="api-section">
                <h2>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                
                <div class="endpoint">
                    <h3><span class="method get">GET</span> /api/stats/market</h3>
                    <p>–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞</p>
                    <div class="code-block">
                        <strong>–û—Ç–≤–µ—Ç:</strong>
                        <pre>{
  "success": true,
  "stats": {
    "totalListings": 150,
    "totalVolume": 50000,
    "averagePrice": 333
  }
}</pre>
                    </div>
                </div>
            </div>

            <div class="api-section">
                <h2>‚ùå –ö–æ–¥—ã –æ—à–∏–±–æ–∫</h2>
                <table class="error-table">
                    <tr>
                        <th>–ö–æ–¥</th>
                        <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                    </tr>
                    <tr>
                        <td>400</td>
                        <td>–ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å</td>
                    </tr>
                    <tr>
                        <td>401</td>
                        <td>–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω</td>
                    </tr>
                    <tr>
                        <td>403</td>
                        <td>–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω</td>
                    </tr>
                    <tr>
                        <td>429</td>
                        <td>–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤</td>
                    </tr>
                    <tr>
                        <td>500</td>
                        <td>–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞</td>
                    </tr>
                </table>
            </div>

            <div class="api-section">
                <h2>üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h2>
                
                <h3>JavaScript (Fetch API)</h3>
                <div class="code-block">
                    <pre>const response = await fetch('/api/market/listings', {
  headers: {
    'Authorization': 'Bearer YOUR_TOKEN',
    'Content-Type': 'application/json'
  }
});

const data = await response.json();
console.log(data.listings);</pre>
                </div>

                <h3>Python (requests)</h3>
                <div class="code-block">
                    <pre>import requests

headers = {
    'Authorization': 'Bearer YOUR_TOKEN',
    'Content-Type': 'application/json'
}

response = requests.get('https://nomercy.example.com/api/market/listings', headers=headers)
data = response.json()
print(data['listings'])</pre>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/theme-switcher.js"></script>
</body>
</html>
